export const defFile =
	'data:image/jpeg;base64,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'

export const transformBase64ToFile = (value?: string) => {
	if (!value) value = defFile

	const parts = defFile.split(',')
	const mimeType = parts[0].match(/:(.*?);/)![1]
	const decodedString = atob(parts[1])

	const n = decodedString.length
	const u8arr = new Uint8Array(n)
	for (let i = 0; i < n; i++) {
		u8arr[i] = decodedString.charCodeAt(i)
	}

	const blob = new Blob([u8arr], { type: mimeType })

	return new File([blob], '', { type: mimeType })
}

export const fileToBase64 = (file: File) => {
	return new Promise((resolve, reject) => {
		const reader = new FileReader()
		reader.readAsDataURL(file)

		reader.onload = () => {
			resolve(reader.result) // The data URL (including Base64)
		}

		reader.onerror = error => {
			reject(error)
		}
	})
}
